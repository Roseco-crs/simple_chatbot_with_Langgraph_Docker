services:
  langgraph-chat:
    build: .
    # Map the browser port (8501) to the Streamlit internal port (7860)
    ports:
      - "8501:7860"
    env_file:
      - .env
    environment:
      - GROQ_API_KEY=${GROQ_API_KEY}
      - STREAMLIT_SERVER_PORT=7860
      - STREAMLIT_SERVER_ADDRESS=0.0.0.0
    volumes:
      - .:/app
      - /app/.venv  # Prevents local .venv from conflicting with container
    restart: unless-stopped